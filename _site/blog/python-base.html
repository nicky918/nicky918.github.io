<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="google-site-verification" content="aexITLS38FdIRzwj25OVWxm87rpa9l-UV0URTyC9cTs" />
  <title>
    python：基础使用
    
  </title>
  <link rel="stylesheet" href="../css/site.css">
  <link href="//cdn.bootcss.com/font-awesome/4.4.0/css/font-awesome.css" rel="stylesheet">
  <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon" />
  
  <link rel="alternate" type="application/atom+xml" title="RSS Feed for Vista's blog" href="/feed.xml" />

  

  

  
</head>

<body>
  <div class="header-container">
    <header class="inner">
      
      <nav>
        <a class="" href="/">About</a>
        <a class="" href="/project/">Project</a>
        <!--<a class="" href="/resume/">Resume</a>
	      <a href="/yuanyong_resume_cn.pdf">Resume</a>
	      <a href="/YongYuan_resume.pdf">Resume</a>
        <a class="" href="/publication/">Publication</a>-->
        <a class="" href="/blog/">Blog</a>
	      <a href="/books/">Book</a>
		    <a href="/timeline/">Times</a>
        <a href="http://git.oschina.net/vista918">oschina</a>
        <a href="https://github.com/nicky918">github(少用)</a>
      </nav>
	  

      <div class="pull-right right logo">
        <!--<div class="name">
          <a href="/">Yong Yuan</a><br />
          <small>
            <em>
              
                <a href="/">developer</a>
              
            </em>
          </small>
        </div>-->
        <a href="https://nicky918.github.io/"><img class="avatar" src="/images/vista.jpg" alt="My profile picture" /></a>
      </div>
      <div class="clear"></div>
    </header>
    <div class="clear"></div>
  </div>

  <link rel="stylesheet" href="../css/blog.css">



<div id="container">
<article>
<div class="inner">
<div class = "post-header">
  <h1>
    python：基础使用
  </h1>
  <ul class="meta">
  	<i class="fa fa-calendar"></i>
  	2017年06月16日
  	<i class="space"></i>
  	<i class="fa fa-archive"></i>
  	<a class="tag" href="http://localhost:4000/blog/categories.html#python">python</a>
  	<i class="space"></i>
  	<i class="fa fa-tags"></i>
  	
  	    <a class="tag" href="http://localhost:4000/tag/#python">python</a>
  	    <i class="space"></i>
  	
  	<i class="space"></i> 字数:13765
  </ul>
</div>
</div>

  <div class="post">
        <div id="content">
          <div class ="sidebox">
              <div class ="sidebar">
              <div class="toc"></div>
              </div>
          </div>
  	   <blockquote>
  <p>要学机器学习，必先学python。</p>
</blockquote>

<h2 id="综述">综述</h2>

<p>python语法很多，更多请查看完整的<a href="https://www.python.org/doc/">官方文档</a>。本文专注于python常见的内置函数、模块，不包括numpy、scipy、pandas等</p>

<h2 id="编码">编码</h2>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># -*- coding: utf-8 -*-</span>
</code></pre>
</div>
<h2 id="内存管理">内存管理</h2>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># -*- coding: utf-8 -*-</span>

<span class="kn">import</span> <span class="nn">gc</span>

<span class="n">obj</span> <span class="o">=</span> <span class="mi">3</span>
<span class="k">print</span> <span class="n">obj</span>
<span class="k">del</span> <span class="n">obj</span>
<span class="n">gc</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>

<span class="k">print</span> <span class="n">obj</span>
</code></pre>
</div>

<p><code class="highlighter-rouge">output:</code></p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="mi">3</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s">"/Users/vista/PycharmProjects/untitled/kNN.py"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">10</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="k">print</span> <span class="n">obj</span>
<span class="nb">NameError</span><span class="p">:</span> <span class="n">name</span> <span class="s">'obj'</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">defined</span>
</code></pre>
</div>

<h2 id="文件读取">文件读取</h2>
<p>以如下文件为例，文件名为test.txt，文本内容如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>WIFIAPTag,passengerCount,timeStamp
E1-1A-1&lt;E1-1-01&gt;,15,2016-09-10-18-55-04
E1-1A-2&lt;E1-1-02&gt;,15,2016-09-10-18-55-04
E1-1A-3&lt;E1-1-03&gt;,38,2016-09-10-18-55-04
</code></pre>
</div>

<p><code class="highlighter-rouge">示例1：</code></p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'test.txt'</span><span class="p">,</span><span class="n">mode</span><span class="o">=</span><span class="s">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
    <span class="k">print</span> <span class="nb">file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
    <span class="k">print</span> <span class="nb">file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
    <span class="nb">file</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">print</span> <span class="nb">file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
</code></pre>
</div>

<p><code class="highlighter-rouge">output:</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>WIFIAPTag,passengerCount,timeStamp

E1-1A-1&lt;E1-1-01&gt;,15,2016-09-10-18-55-04

WIFIAPTag,passengerCount,timeStamp
</code></pre>
</div>

<p>print在2.x版本中会自动换行，函数原型
<code class="highlighter-rouge">print(*objects, sep=’ ‘, end=’\n’, file=sys.stdout, flush=False) </code>
解决办法:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'test.txt'</span><span class="p">,</span><span class="n">mode</span><span class="o">=</span><span class="s">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="nb">file</span><span class="o">.</span><span class="n">readline</span><span class="p">(),</span><span class="n">end</span><span class="o">=</span><span class="s">''</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="nb">file</span><span class="o">.</span><span class="n">readline</span><span class="p">(),</span><span class="n">end</span><span class="o">=</span><span class="s">''</span><span class="p">)</span>
    <span class="nb">file</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="nb">file</span><span class="o">.</span><span class="n">readline</span><span class="p">(),</span><span class="n">end</span><span class="o">=</span><span class="s">''</span><span class="p">)</span>
</code></pre>
</div>

<p><code class="highlighter-rouge">output</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>WIFIAPTag,passengerCount,timeStamp
E1-1A-1&lt;E1-1-01&gt;,15,2016-09-10-18-55-04
WIFIAPTag,passengerCount,timeStamp
</code></pre>
</div>

<p><code class="highlighter-rouge">示例2：</code></p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'test.txt'</span><span class="p">,</span><span class="n">mode</span><span class="o">=</span><span class="s">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
    <span class="n">column_names</span> <span class="o">=</span>  <span class="nb">file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">','</span><span class="p">)</span>
    <span class="k">print</span> <span class="n">column_names</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">file</span><span class="p">:</span>
        <span class="p">(</span><span class="n">wifi_ap_tag</span><span class="p">,</span><span class="n">passenger_count</span><span class="p">,</span><span class="n">time_stamp</span><span class="p">)</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">','</span><span class="p">)</span>
        <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">wifi_ap_tag</span><span class="p">,</span><span class="n">passenger_count</span><span class="p">,</span><span class="n">time_stamp</span><span class="p">])</span>
    <span class="k">print</span> <span class="n">data</span>
</code></pre>
</div>

<p><code class="highlighter-rouge">output:</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>['WIFIAPTag', 'passengerCount', 'timeStamp']
[['E1-1A-1&lt;E1-1-01&gt;', '15', '2016-09-10-18-55-04'], ['E1-1A-2&lt;E1-1-02&gt;', '15', '2016-09-10-18-55-04'], ['E1-1A-3&lt;E1-1-03&gt;', '38', '2016-09-10-18-55-04']]
</code></pre>
</div>

<p><code class="highlighter-rouge">文本添加：</code></p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c">#文本追加</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'test.txt'</span><span class="p">,</span><span class="n">mode</span><span class="o">=</span><span class="s">'a'</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
    <span class="nb">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">'</span><span class="se">\n</span><span class="s">hello python'</span><span class="p">)</span>
</code></pre>
</div>

<ul>
  <li>r以读方式打开文件，可读取文件信息。</li>
  <li>w以写方式打开文件，可向文件写入信息。如文件存在，则清空该文件，再写入新内容</li>
  <li>a以追加模式打开文件（即一打开文件，文件指针自动移到文件末尾），如果文件不存在则创建</li>
  <li>r+以读写方式打开文件，可对文件进行读和写操作。</li>
  <li>w+消除文件内容，然后以读写方式打开文件。</li>
  <li>a+以读写方式打开文件，并把文件指针移到文件尾。</li>
  <li>b以二进制模式打开文件，而不是以文本模式。该模式只对Windows或Dos有效，类Unix的文件是用二进制模式进行操作的。</li>
</ul>

<h2 id="异常处理">异常处理</h2>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">try</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'1.txt'</span><span class="p">,</span><span class="n">mode</span><span class="o">=</span><span class="s">'r'</span><span class="p">)</span>
<span class="k">except</span> <span class="nb">IOError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">'File error : '</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="k">if</span> <span class="s">'data'</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">():</span>  <span class="c">#locals()会返回当前作用域中定义所有名的一个集合</span>
        <span class="n">data</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre>
</div>

<p><code class="highlighter-rouge">output:</code></p>

<p><code class="highlighter-rouge">File error : [Errno 2] No such file or directory: '1.txt'</code></p>

<h2 id="列表推导项去重复项取降序top-3">列表推导项、去重复项、取降序top 3</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>a = [1,2,3,4,5,4,6,8]
x = sorted(set([(item*item) for item in a if item &gt; 3]),reverse=True)[0:3]
print x

#输出  [64, 36, 25]
#set() 表示集合
#对数据完成复制排序 data2 = sorted()
#对数据完成原地排序 data.sort()
#默认排序是升序,使用reverse=True可以降序输出
#函数原型 sorted(iterable, cmp=None, key=None, reverse=False)
</code></pre>
</div>

<h2 id="内置函数lambdafiltermapreducezipenumerate">内置函数lambda、filter、map、reduce、zip、enumerate</h2>

<ul>
  <li>匿名函数lambda。原型lambda [arg1[,arg2,arg3,…,argn]] : expression</li>
</ul>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">abc</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="k">print</span> <span class="n">abc</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
</code></pre>
</div>

<ul>
  <li>filter(bool_func,seq)：此函数的功能相当于过滤器。调用一个布尔函数bool_func来迭代遍历每个seq中的元素；返回一个使bool_seq返回值为true的元素的序列。</li>
</ul>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">abc</span> <span class="o">=</span> <span class="p">[</span><span class="mi">121</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">45</span><span class="p">,</span><span class="mi">42</span><span class="p">,</span><span class="mi">78</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">7845</span><span class="p">,</span><span class="mi">78421</span><span class="p">,</span><span class="mi">72412</span><span class="p">,</span><span class="mi">71</span><span class="p">,</span><span class="mi">121</span><span class="p">,</span><span class="mi">21</span><span class="p">]</span>
<span class="k">print</span> <span class="nb">filter</span><span class="p">(</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">40</span><span class="p">,</span><span class="n">abc</span><span class="p">)</span>
</code></pre>
</div>

<ul>
  <li>map(func,seq1[,seq2…])：将函数func作用于给定序列的每个元素，并用一个列表来提供返回值；如果func为None，func表现为身份函数，返回一个含有每个序列中元素集合的n个元组的列表。</li>
</ul>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">print</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="bp">None</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="k">print</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="k">print</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">]])</span>  
<span class="c"># [None, None, None, None]</span>
<span class="c"># [2, 4, 6, 8]</span>
<span class="c"># [2, 4, 6, 8, [5, 6, 7, 5, 6, 7]]</span>
</code></pre>
</div>

<ul>
  <li>reduce(func,seq[,init])：func为二元函数，将func作用于seq序列的元素，每次携带一对（先前的结果以及下一个序列的元素），连续的将现有的结果和下一个值作用在获得的随后的结果上，最后减少我们的序列为一个单一的返回值：如果初始值init给定，第一个比较会是init和第一个序列元素而不是序列的头两个元素</li>
</ul>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">print</span> <span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="k">print</span> <span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span><span class="mi">10</span><span class="p">)</span> 
<span class="c"># 10</span>
<span class="c"># 20</span>
</code></pre>
</div>

<ul>
  <li>zip(seq1 [, seq2 […]]) -&gt; [(seq1[0], seq2[0] …), (…)]</li>
</ul>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
<span class="k">print</span> <span class="nb">zip</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="c">#[(1, 4), (2, 5), (3, 6)]</span>
</code></pre>
</div>

<ul>
  <li>enumerate</li>
</ul>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="k">for</span> <span class="n">idx</span><span class="p">,</span><span class="n">j</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">idx</span><span class="p">,</span><span class="n">j</span>
<span class="c">#0 1</span>
<span class="c">#1 2</span>
<span class="c">#2 3</span>
</code></pre>
</div>

<h2 id="time">time</h2>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">time</span>
<span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>         <span class="c">#获取当前时间戳</span>
<span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">()</span>    <span class="c">#当前时间的struct_time形式</span>
<span class="n">time</span><span class="o">.</span><span class="n">ctime</span><span class="p">()</span>        <span class="c">#当前时间的字符串形式</span>

<span class="k">print</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">"</span><span class="si">%</span><span class="s">Y-</span><span class="si">%</span><span class="s">m-</span><span class="si">%</span><span class="s">d </span><span class="si">%</span><span class="s">H:</span><span class="si">%</span><span class="s">M:</span><span class="si">%</span><span class="s">S"</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">())</span>

<span class="c">#统计程序运行时间</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">clock</span>
<span class="n">t_start</span> <span class="o">=</span> <span class="n">clock</span><span class="p">()</span>
<span class="n">t_finish</span> <span class="o">=</span> <span class="n">clock</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s">'运行时间为：</span><span class="si">%</span><span class="s">s 秒'</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">t_finish</span> <span class="o">-</span> <span class="n">t_start</span><span class="p">))</span>

<span class="c">#2017-06-16 16:39:47</span>
<span class="c">#运行时间为：2e-06 秒</span>
</code></pre>
</div>

<h2 id="pickle模块">pickle模块</h2>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pickle</span>

<span class="c">#以保存模型参数为例</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'test.pickle'</span><span class="p">,</span><span class="n">mode</span><span class="o">=</span><span class="s">'wb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">save_file</span><span class="p">:</span>      <span class="c">#‘b’表示二进制模式</span>
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">({</span><span class="s">'depth'</span><span class="p">:</span><span class="mi">8</span><span class="p">,</span><span class="s">'ntree'</span><span class="p">:</span><span class="mi">100</span><span class="p">},</span><span class="n">save_file</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'test.pickle'</span><span class="p">,</span><span class="n">mode</span><span class="o">=</span><span class="s">'rb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">restored_file</span><span class="p">:</span>
    <span class="n">para</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">restored_file</span><span class="p">)</span>

<span class="k">print</span> <span class="n">para</span><span class="p">[</span><span class="s">'depth'</span><span class="p">]</span>
<span class="k">print</span> <span class="n">para</span><span class="p">[</span><span class="s">'ntree'</span><span class="p">]</span>
</code></pre>
</div>

<h2 id="os模块">os模块</h2>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>                 <span class="c">#当前工作目录</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s">'../python/code'</span><span class="p">)</span>  <span class="c">#注意.与..的区别</span>

<span class="c">#新建文件夹</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s">'submit'</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="s">'submit'</span><span class="p">)</span>
</code></pre>
</div>

<h2 id="list">list</h2>

<p>list：列表（即动态数组，C++标准库的vector，但可含不同类型的元素于一个list中）</p>

<p><strong>a = [“I”,”you”,”he”,”she”] ＃元素可为任何类型。</strong></p>

<p><code class="highlighter-rouge">下标：</code>按下标读写，就当作数组处理</p>

<p>以0开始，有负下标的使用，0第一个元素，-1最后一个元素，-len第一个元素，len-1最后一个元素 
取list的元素数</p>

<p><code class="highlighter-rouge">len(list)</code> #list的长度。实际该方法是调用了此对象的len(self)方法</p>

<p>创建连续的list</p>

<div class="highlighter-rouge"><pre class="highlight"><code>L = range(1,5) #即 L=[1,2,3,4],不含最后一个元素
L = range(1, 10, 2) #即 L=[1, 3, 5, 7, 9]
</code></pre>
</div>

<p>list的方法</p>

<div class="highlighter-rouge"><pre class="highlight"><code>L.append(var) #追加元素
L.insert(index,var)
L.pop(var) #返回最后一个元素，并从list中删除之
L.remove(var) #删除第一次出现的该元素
L.count(var) #该元素在列表中出现的个数
L.count(var) #该元素在列表中出现的个数
L.index(var) #该元素的位置,无则抛异常
L.extend(list) #追加list，即合并list到L上
L.sort() #排序
L.reverse() #倒序
</code></pre>
</div>

<p>list 操作符:,+,*，<code class="highlighter-rouge">del</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>a[1:] #片段操作符，用于子list的提取
[1,2]+[3,4] #为[1,2,3,4]。同extend()
[2]*4 #为[2,2,2,2]
*del* L[1] #删除指定下标的元素
*del* L[1:3] #删除指定下标范围的元素
</code></pre>
</div>

<p>list的复制</p>

<div class="highlighter-rouge"><pre class="highlight"><code>L1 = L #L1为L的别名，用C来说就是指针地址相同，对L1操作即对L操作。函数参数就是这样传递的
L1 = L[:] #L1为L的克隆，即另一个拷贝。
</code></pre>
</div>

<p>list comprehension（推导列表）</p>

<p><code class="highlighter-rouge">[ for k in L if ]</code></p>

<p>list 和 tuple 的相互转化</p>

<div class="highlighter-rouge"><pre class="highlight"><code>tuple(ls)
list(ls)
</code></pre>
</div>

<h2 id="字典">字典</h2>

<blockquote>
  <p>dictionary： 字典（即C++标准库的map）</p>
</blockquote>

<p><code class="highlighter-rouge">dict = {‘ob1’:’computer’, ‘ob2’:’mouse’, ‘ob3’:’printer’} </code></p>

<p>每一个元素是pair，包含key、value两部分。key是Integer或string类型，value 是任意类型。 
键是唯一的，字典只认最后一个赋的键值。</p>

<p>dictionary的方法</p>

<div class="highlighter-rouge"><pre class="highlight"><code>D.get(key, 0) #同dict[key]，多了个没有则返回缺省值，0。[]没有则抛异常 
D.has_key(key) #有该键返回TRUE，否则FALSE 
D.keys() #返回字典键的列表 
D.values() 
D.items() 
D.update(dict2) #增加合并字典 
D.popitem() #得到一个pair，并从字典中删除它。已空则抛异常 
D.clear() #清空字典，同del dict 
D.copy() #拷贝字典 
D.cmp(dict1,dict2) #比较字典，(优先级为元素个数、键大小、键值大小), 第一个大返回1，小返回-1，一样返回0
</code></pre>
</div>

<p>dictionary的复制</p>

<div class="highlighter-rouge"><pre class="highlight"><code>dict1 = dict #别名 
dict2 = dict.copy() #克隆，即另一个拷贝
</code></pre>
</div>

<p>字典的遍历</p>

<p>（1）遍历字典的key（键）</p>

<div class="highlighter-rouge"><pre class="highlight"><code>for key in dict.keys():
    print key
</code></pre>
</div>

<p>（2）遍历字典的value（值）</p>

<div class="highlighter-rouge"><pre class="highlight"><code>for value in dict.values():
    print value
</code></pre>
</div>

<p>（3）遍历字典的项（元素）</p>

<div class="highlighter-rouge"><pre class="highlight"><code>for item in dict.items():
    print item
</code></pre>
</div>

<p>（4）遍历字典的key-value</p>

<div class="highlighter-rouge"><pre class="highlight"><code>for item，value in dict.items(): 
    print ‘key=%s, value=%s' %(item, value)  

for item，value in dict.iteritems(): 
    print ‘key=%s, value=%s' %(item, value)
</code></pre>
</div>

<h2 id="字符串">字符串</h2>

<blockquote>
  <p>string：字符串（即不能修改的字符list）</p>
</blockquote>

<p><code class="highlighter-rouge">str = “Hello World” </code></p>

<p>字符串是一个整体。如果你想直接修改字符串的某一部分，是不可能的。但我们能够读出字符串的某一部分。</p>

<p>子字符串的提取<code class="highlighter-rouge">str[:6]</code></p>

<p>字符串包含判断操作符：<code class="highlighter-rouge">in，not in</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>”He” in str 
“she” not in str
</code></pre>
</div>

<p>string模块方法</p>

<div class="highlighter-rouge"><pre class="highlight"><code>S.find(substring, [start [,end]]) #可指范围查找子串，返回索引值，否则返回-1 
S.rfind(substring,[start [,end]]) #反向查找 
S.index(substring,[start [,end]]) #同find，只是找不到产生ValueError异常 
S.rindex(substring,[start [,end]])#同上反向查找 
S.count(substring,[start [,end]]) #返回找到子串的个数 
S.lowercase() 
S.capitalize() #首字母大写 
S.lower() #转小写 
S.upper() #转大写 
S.swapcase() #大小写互换 
S.split(str, ’ ‘) #将string转list，以空格切分 
S.join(list, ’ ‘) #将list转string，以空格连接
</code></pre>
</div>

<p>处理字符串的内置函数</p>

<div class="highlighter-rouge"><pre class="highlight"><code>len(str) #串长度 
cmp(“my friend”, str) #字符串比较。第一个大，返回1 
max(‘abcxyz’) #寻找字符串中最大的字符 
min(‘abcxyz’) #寻找字符串中最小的字符
</code></pre>
</div>

<p>string的转换</p>

<div class="highlighter-rouge"><pre class="highlight"><code>oat(str) #变成浮点数，float(“1e-1”) 结果为0.1 
int(str) #变成整型， int(“12”) 结果为12 
int(str,base) #变成base进制整型数，int(“11”,2) 结果为2 
long(str) #变成长整型， 
long(str,base) #变成base进制长整型，
</code></pre>
</div>

<p>字符串的格式化（注意其转义字符，大多如C语言）</p>

<div class="highlighter-rouge"><pre class="highlight"><code>str_format % (参数列表) #参数列表是以tuple的形式定义的，即不可运行中改变 
print “”%s’s height is %dcm” % (“My brother”, 180) #结果显示为 My brother’s height is 180cm
</code></pre>
</div>

<h2 id="引用">引用</h2>

<ol>
  <li><a href="http://blog.csdn.net/a819825294/article/details/53186306">http://blog.csdn.net/a819825294/article/details/53186306</a></li>
</ol>

  	</div>
	</div>
</article>

<!--翻页功能-->
<section class="inner">
<ul class="pager">
    
    <li class="previous">
       <a href="/blog/neural-network.html">←神经网络 - 入门</a>
    </li>
    
    
    <li class="next">
    	<a href="/blog/python-numpy.html">python：numpy→</a>
    </li>
    
 </ul>
</section>

<!--评论功能-->
<!-- Disqus Comment BEGIN -->
<!--
<section class="comments inner duoshuo">
  <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'yongyuan'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
-->
<!-- Disqus Comment END -->

</section>
</div>

<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$']],
    <!--displayMath: [['$$','$$'], ['\[','\]']],-->
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    // Fix <code> tags after MathJax finishes running. This is a
    // hack to overcome a shortcoming of Markdown. Discussion at
    // https://github.com/mojombo/jekyll/issues/199
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>



  <!--<div class="separator"></div>-->

  <footer>
    <div  style="border-bottom: 1px solid #eee"></div>
    <p class="linkings">
        <a href="http://www.pyimagesearch.com/">pyimagesearch</a>&nbsp&nbsp&nbsp&nbsp<a href="http://bean.logdown.com/">bean</a>&nbsp&nbsp&nbsp&nbsp<a href="http://ml.memect.com/">ml dairy</a>&nbsp&nbsp&nbsp&nbsp<a href="http://rogerioferis.com/VisualRecognitionAndSearch2014/Resources.html/">Resources</a>
    </p>
    <p class="linkings">
        Utils: <a href="http://rogerioferis.com/VisualRecognitionAndSearch2014/Resources.html">rogerioferis</a>&nbsp&nbsp&nbsp&nbsp<a href="http://caffe.berkeleyvision.org/">Caffe</a>&nbsp&nbsp&nbsp&nbsp<a href="http://scikit-learn.org/stable/index.html">scikit-learn</a>&nbsp&nbsp&nbsp&nbsp<a href="http://www.astroml.org/index.html">AstroML</a></a>&nbsp&nbsp&nbsp&nbsp<a href="http://scikit-image.org/">scikit-image</a></a>&nbsp&nbsp&nbsp&nbsp<a href="http://gitxiv.com/">GitXiv</a>
    </p>
    <p>
      Made with <a href="http://jekyllrb.com/">Jekyll</a>(<a href="http://jekyll.com.cn/">中文</a>),
      hosted on <a href="https://github.com/nicky918/nicky918.github.io">Github Pages</a>. Inspired by <a href="http://sebastien.saunier.me/">saunier</a>, designed by <a href="https://nicky918.github.io/">vista</a>.
    </p>
    </p>
      <a href="http://www.easycounter.com/"><img src="http://www.easycounter.com/counter.php?vista"border="0" alt="Website Hit Counter"></a> since August 2013.
    </p>
    <ul class="links">
    </ul>
  </footer>

<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

</body>
</html>
